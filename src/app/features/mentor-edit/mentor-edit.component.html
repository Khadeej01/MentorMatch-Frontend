<div class="container mx-auto p-6">
  <h1 class="text-3xl font-bold mb-6">Edit Profile</h1>

  <div *ngIf="!mentor" class="text-center text-gray-500">Loading profile...</div>

  <form *ngIf="mentor" (ngSubmit)="onSubmit()" class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-md">
    <div *ngIf="errorMessage" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
      {{ errorMessage }}
    </div>
    <div *ngIf="successMessage" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" role="alert">
      {{ successMessage }}
    </div>

    <div class="space-y-4">
      <div class="flex flex-col gap-1">
        <label class="text-sm font-medium text-[#0d141c]">Full name</label>
        <input class="w-full rounded-lg border border-[#dde1e4] px-3 py-2 text-sm focus:border-[#9db7cf] focus:outline-none" type="text" [(ngModel)]="mentor.nom" name="nom" required />
      </div>

      <div class="flex flex-col gap-1">
        <label class="text-sm font-medium text-[#0d141c]">Email</label>
        <input class="w-full rounded-lg border border-[#dde1e4] px-3 py-2 text-sm bg-gray-100 cursor-not-allowed" type="email" [(ngModel)]="mentor.email" name="email" readonly />
        <p class="text-xs text-gray-500">Email cannot be changed.</p>
      </div>

      <div class="flex flex-col gap-1">
        <label class="text-sm font-medium text-[#0d141c]">Skills</label>
        <input class="w-full rounded-lg border border-[#dde1e4] px-3 py-2 text-sm focus:border-[#9db7cf] focus:outline-none" type="text" [(ngModel)]="mentor.competences" name="competences" placeholder="e.g., Angular, Java, Project Management" />
      </div>

      <div class="flex flex-col gap-1">
        <label class="text-sm font-medium text-[#0d141c]">Experience</label>
        <textarea class="w-full rounded-lg border border-[#dde1e4] px-3 py-2 text-sm focus:border-[#9db7cf] focus:outline-none" [(ngModel)]="mentor.experience" name="experience" rows="4" placeholder="Describe your professional experience..."></textarea>
      </div>

      <div class="flex items-center gap-2">
        <input type="checkbox" [(ngModel)]="mentor.available" name="available" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" />
        <label class="text-sm text-gray-900">Available for mentoring</label>
      </div>
    </div>

    <div class="mt-6 flex justify-end gap-4">
      <button type="button" (click)="cancel()" class="rounded-lg bg-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300">Cancel</button>
      <button [disabled]="isSubmitting" class="rounded-lg bg-[#0d141c] px-4 py-2 text-sm font-bold text-white disabled:opacity-60" type="submit">
        {{ isSubmitting ? 'Savingâ€¦' : 'Save Changes' }}
      </button>
    </div>
  </form>
</div>
